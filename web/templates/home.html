{{define "content"}}
	{{if .Filter}}
		<div class="filter-info">
			Filter: <strong>{{.Filter}}</strong>
		</div>
	{{end}}
	<div class="grid">
		{{range .Artworks}}
			<div class="card">
				<img src="/static/{{.Thumbnail}}" loading="lazy" alt="{{.Title}}">
				<a href="/artwork?id={{.ID}}">
					<div class="title">{{.Title}}</div>
				</a>
				<div class="meta">ID: {{.ID}}</div>
				<div class="meta">Pages: {{.PageCount}}</div>
				<div class="meta">Artist: <a href="/?artist={{.ArtistID}}">{{.ArtistID}}</a></div>
			</div>
		{{end}}
	</div>
	<div class="pagination" style="margin-top: 20px; text-align: center;">
		{{if .Pagination.HasPrev}}
			<a href="/?page={{.Pagination.PrevPage}}&limit={{.Pagination.Limit}}&{{.Query}}">Previous</a>
		{{end}}
		<span style="margin: 0 10px;">Page {{.Pagination.CurrentPage}} of {{.Pagination.TotalPages}} ({{.Pagination.TotalItems}} items)</span>
		{{if .Pagination.HasNext}}
			<a href="/?page={{.Pagination.NextPage}}&limit={{.Pagination.Limit}}&{{.Query}}">Next</a>
		{{end}}

		<div class="limit-selector" style="margin-top: 10px;">
			Show: 
			<a href="/?limit=20&{{.Query}}">20</a>
			<a href="/?limit=50&{{.Query}}">50</a>
			<a href="/?limit=100&{{.Query}}">100</a>
			| Custom: <input type="number" id="customLimit" value="{{.Pagination.Limit}}" style="width: 60px;">
			<button onclick="applyLimit()">Go</button>
		</div>
	</div>
	<script>
		function applyLimit() {
			var limit = document.getElementById('customLimit').value;
			window.location.href = "/?page=1&limit=" + limit + "&{{.Query}}";
		}
	</script>
{{end}}
